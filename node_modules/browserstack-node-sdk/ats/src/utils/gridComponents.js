const a28_0x573a09=a28_0x486b;(function(_0x15cf10,_0xf5e1fb){const _0x5cd7eb=a28_0x486b,_0xd6649f=_0x15cf10();while(!![]){try{const _0x3922e8=parseInt(_0x5cd7eb(0xee))/0x1*(-parseInt(_0x5cd7eb(0x132))/0x2)+parseInt(_0x5cd7eb(0x13a))/0x3+parseInt(_0x5cd7eb(0x11c))/0x4+-parseInt(_0x5cd7eb(0xd9))/0x5+-parseInt(_0x5cd7eb(0xe6))/0x6+-parseInt(_0x5cd7eb(0x1f7))/0x7+parseInt(_0x5cd7eb(0x1a5))/0x8;if(_0x3922e8===_0xf5e1fb)break;else _0xd6649f['push'](_0xd6649f['shift']());}catch(_0x3d9d6d){_0xd6649f['push'](_0xd6649f['shift']());}}}(a28_0x329a,0x6a96a));function a28_0x486b(_0x2002bc,_0x316755){const _0x329a9b=a28_0x329a();return a28_0x486b=function(_0x486b12,_0x4be09d){_0x486b12=_0x486b12-0xcf;let _0x3fdbf5=_0x329a9b[_0x486b12];return _0x3fdbf5;},a28_0x486b(_0x2002bc,_0x316755);}function a28_0x329a(){const _0xb06c1=['clientId','tYosu','vOywO','TmfDJ','xCuBr','Added\x20Cert\x20Manager\x20CRDs','load','VNbIH','vRruH','FCEVI','EfXuu','gcCNC','mkOJi','TYeas','name','deleteAgent','private-pods-and-services.yaml','Added\x20hubservice','VizVv','JUdkY','replicas','ZdJri','readNamespacedDeployment','iKisV','UxUDB','IEOAR','namespace','xYCJE','nginx-private','Qynjz','cluster-role-binding.yaml','EJMDC','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','Adding\x20Autoscaler\x20clusterRoleBinding','ingress.yaml','azure.workload.identity/client-id','VJivG','labels','AmiWz','LtYyz','false','gjWzM','QeBVA','VOVnZ','SZSFU','body','yAmPi','kydWG','hngzE','crds.yaml','js-yaml','beHbN','atYiJ','Rddtw','cert-manager','cluster-role-aggregated-reader.yaml','Added\x20default\x20service\x20account','deleteClusterRoleBinding','listNamespacedService','YZAad','MgpOW','xyydc','NEXsE','BhcDD','uuid','Deleting\x20','KPxxx','createAPIService','utf-8','dbsfu','WkXea','iLKxM','<ClusterName>','addAutoScalerComponents','EzAKf','YnWUV','vxCPd','mYGmD','1941261SNLlcc','Deleting\x20cert-manager','JBKmH','Adding\x20browser-node-role\x20cluster\x20role','bstackUsername','ZNomK','fByPe','Added\x20Autoscaler\x20Components','vsWNM','MdUAl','CYfHa','IMisB','kMzUd','ShJiy','hvvYl','ZoWjO','items','Added\x20Cert\x20Manager','nVdic','metadata','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','wRJgR','Adding\x20MetricsServer\x20Service\x20Account','QaUqs','wrSOx','browser-node-cluster-role-binding.yaml','Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader','createClusterRoleBinding','statusCode','ErttU','clusterissuer.yaml','Deleted\x20Turboscale\x20Agent','Scaling\x20up\x20deployment','ikVFu','JQLZQ','YiSwO','length','EQdWe','XIpYJ','NJUyW','123456','HifIU','ghJkS','scaleDownHubDeployment','KmUvv','bstackAccesskey','GJbqM','TWOiz','JtdgG','UHFgh','iPWop','lBXnI','Adding\x20Autoscaler\x20clusterRole','dqbVG','clusterName','LTuac','./utilityMethods','yuapS','deleteRoutingDeps','Adding\x20default\x20service\x20account','zTzlS','FvIKT','Added\x20Turboscale\x20Agent','przzJ','3788415ghQlOU','../config/constants','qVsDl','debug','jpGEH','loadAll','cluster-role.yaml','JuOzC','createNamespacedDeployment','Adding\x20Ingress','info','Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','Zgqcl','552180ADADxB','gfsWO','Adding\x20Cert\x20Manager','4|5|6|2|0|1|7|3|8|9','path','DSouG','deleteNamespace','NUoDf','79PZSZej','HTJxv','readFileAsync','kTFzF','IKbuy','VzcDx','service-account.yaml','SukDi','LrRgu','HntqQ','lnJFk','CTNMy','esImX','deleteClusterAndDependencies','Adding\x20VPC\x20CNI\x20CM','DSFBc','uHhdh','BJdBq','true','deployer-srvacct-binding-','createNamespacedRole','JjXXg','MiOjm','puqYB','RbfoI','xHJpP','Adding\x20clusterrolebinding','FkfXj','templates','../config/logger','FxznA','template','role-binding.yaml','jruBq','JCPcZ','FFxGw','Hqrpj','OfIoa','OLfpy','replaceNamespacedServiceAccount','oWUBl','QKhov','browserstack-turboscale-grid','Added\x20hubdeployment','code','Added\x20VPC\x20CNI\x20ConfigMaps','547804nvTZbY','ifKaI','dwLHC','pods-and-services.yaml','MUKDS','aresf','MpFbJ','createNamespacedService','uid','sa.yaml','jwXqn','Adding\x20browser-node-role-binding\x20role\x20binding','role.yaml','Deleted\x20cert-manager','clusterRegion','hAXXg','xNJpq','Qaxja','readNamespace','ximdX','PAzro','split','218JBnHXg','browser-node-cluster-role.yaml','zEpSG','Added\x20Cert\x20Issuer','tbzse','aJwyi','YRypH','NskMd','594123toCPcf','Adding\x20Nginx\x20Pods\x20and\x20deployments','PRhIL','aKGEA','VVLhJ','nwrKK','exNXt','VTYQY','gridProfileId','Added\x20MetricsServer\x20Components','spec','Adding\x20Autoscaler\x20Deployment','kube-system','KdHqs','VlDFM','OPFVI','Adding\x20Autoscaler\x20namespacedRole','ZociY','message','createNamespacedRoleBinding','xtQKv','phPnz','all','vMYDN','JCgqF','LVOwJ','eaZSm','SUbTt','Adding\x20Cert\x20Issuer','Adding\x20Autoscaler\x20Service\x20Account','eks.amazonaws.com/role-arn','PJOuG','Adding\x20MetricsServer\x20Components','uDFHM','SGDrq','Adding\x20MetricsServer\x20Service','jeCat','pdKOe','join','annotations','JbuNI','replace','GfYbG','lioTk','OpLob','TCcgf','GrcYq','cloudProvider','LvNlz','NqdlT','QgUcj','deployment.yaml','Adding\x20MetricsServer\x20Deployment','isPrivateGrid','Adding\x20browser-node\x20service\x20account','hubVersion','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','YBabg','aFgin','ZZlOD','Scaling\x20down\x20deployment','SveZx','Deleting\x20clusterrolebinding','sdbuz','../utils/webSocketUtils','cert-manager.yaml','browserstack','addMetricServerComponents','DaJQO','Adding\x20MetricsServer\x20namespacedRoleBinding','4|7|6|3|1|0|5|2','AlXZD','browserVersion','jMTei','Added\x20browser-node\x20service\x20account','MfXQV','createNamespacedServiceAccount','LyAHC','hub-deployment.yaml','mDCtS','metrics-server','vLDGE','Adding\x20MetricsServer\x20clusterRole','ZRdvy','HOeju','Vzipo','addGridComponents','PZegE','qgJvW','WqxuU','Added\x20clusterrolebinding','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','metricsServerServiceExists','\x20cloudformation\x20stacks\x20from\x20region\x20','createClusterRole','Dphvh','cyYeo','wwnbn','namespaceExists','default-service-account.yaml','default','Ugizn','KnKLz','service.yaml','hASHK','abVkm','yqqBp','9897928JSnkdD','VZkkk','Scaled\x20down\x20deployment'];a28_0x329a=function(){return _0xb06c1;};return a28_0x329a();}const fs=require('fs'),yaml=require(a28_0x573a09(0x1db)),path=require(a28_0x573a09(0xea)),{v4:uuidv4}=require(a28_0x573a09(0x1e9)),{logger}=require(a28_0x573a09(0x10b)),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,AZURE,GCP}=require(a28_0x573a09(0xda)),{deleteClusterStack}=require('./deleteStack'),{kubeApply}=require(a28_0x573a09(0xd1)),{delay}=require(a28_0x573a09(0x17a)),applyTemplate=async(_0x3d4908,_0xe53d36,_0x149142={})=>{const _0x52f84a=a28_0x573a09,_0x114590={};_0x114590[_0x52f84a(0x1e5)]=_0x52f84a(0x21f),_0x114590[_0x52f84a(0x22a)]=_0x52f84a(0x20b),_0x114590[_0x52f84a(0x1ee)]=function(_0x58cd64,_0x32863d){return _0x58cd64===_0x32863d;},_0x114590[_0x52f84a(0x10f)]=_0x52f84a(0x10a),_0x114590[_0x52f84a(0xd6)]='utf-8',_0x114590['xYCJE']='true',_0x114590['ikVFu']=_0x52f84a(0x1d1),_0x114590[_0x52f84a(0x1d0)]=function(_0xef941e,_0x773281){return _0xef941e!=_0x773281;},_0x114590[_0x52f84a(0x109)]=function(_0x436d2,_0x5b71ff){return _0x436d2!==_0x5b71ff;},_0x114590[_0x52f84a(0x191)]=function(_0x501418,_0x55fe1c){return _0x501418!==_0x55fe1c;},_0x114590[_0x52f84a(0x148)]=_0x52f84a(0x153),_0x114590['GrmZB']=function(_0x51aeca,_0x3d5bcb){return _0x51aeca===_0x3d5bcb;},_0x114590['nwrKK']=_0x52f84a(0xf9),_0x114590[_0x52f84a(0xf5)]=function(_0x5e4d8c,_0x3a0189){return _0x5e4d8c===_0x3a0189;},_0x114590['JjXXg']=_0x52f84a(0x1a8),_0x114590['LyAHC']=function(_0x45bc07,_0x2fcd79){return _0x45bc07!==_0x2fcd79;},_0x114590[_0x52f84a(0x21a)]=_0x52f84a(0x10c),_0x114590[_0x52f84a(0x151)]=function(_0x5c85c6,_0x139319){return _0x5c85c6===_0x139319;},_0x114590[_0x52f84a(0xdd)]='hub-deployment.yaml',_0x114590[_0x52f84a(0x113)]=function(_0x2c8a02,_0x5348d1){return _0x2c8a02!==_0x5348d1;},_0x114590[_0x52f84a(0x22c)]='YePQa';const _0x58d9b1=_0x114590;let _0x1a5dd1=await fs['readFileAsync'](path[_0x52f84a(0x160)](__dirname,'..',_0x58d9b1[_0x52f84a(0x10f)],_0x3d4908),_0x58d9b1[_0x52f84a(0xd6)]);_0x1a5dd1=_0x1a5dd1['replace'](/<GridNamespace>/g,_0xe53d36),_0x1a5dd1=_0x1a5dd1[_0x52f84a(0x163)](/<BstackURL>/g,AG_API_URL),_0x1a5dd1=_0x1a5dd1[_0x52f84a(0x163)](/<ClusterName>/g,global_registry[_0x52f84a(0xcf)]),_0x1a5dd1=_0x1a5dd1[_0x52f84a(0x163)](/<BstackUsername>/g,global_registry[_0x52f84a(0x1fb)]),_0x1a5dd1=_0x1a5dd1['replace'](/<BstackAccessKey>/g,global_registry[_0x52f84a(0x224)]),_0x1a5dd1=_0x1a5dd1['replace'](/<GridName>/g,global_registry['gridName']),_0x1a5dd1=_0x1a5dd1[_0x52f84a(0x163)](/<Region>/g,global_registry[_0x52f84a(0x12a)]),_0x1a5dd1=_0x1a5dd1[_0x52f84a(0x163)](/<CloudProvider>/g,global_registry['cloudProvider']),_0x1a5dd1=_0x1a5dd1[_0x52f84a(0x163)](/<HubImageVersion>/g,global_registry[_0x52f84a(0x171)]),_0x1a5dd1=_0x1a5dd1[_0x52f84a(0x163)](/<BrowserImageVersion>/g,global_registry[_0x52f84a(0x182)]),_0x1a5dd1=_0x1a5dd1[_0x52f84a(0x163)](/<PrivateGrid>/g,global_registry[_0x52f84a(0x16f)]?_0x58d9b1[_0x52f84a(0x1c3)]:_0x58d9b1[_0x52f84a(0x218)]);if(_0x58d9b1['LtYyz'](global_registry['gridProfileId'],null)&&_0x58d9b1[_0x52f84a(0x109)](global_registry['gridProfileId'],undefined)){if(_0x58d9b1[_0x52f84a(0x191)](_0x58d9b1[_0x52f84a(0x148)],_0x58d9b1[_0x52f84a(0x148)]))throw _0x4e361d;else _0x1a5dd1=_0x1a5dd1['replace'](/<GridProfileID>/g,global_registry['gridProfileId']);}else{if(_0x58d9b1['GrmZB'](_0x58d9b1[_0x52f84a(0x13f)],_0x58d9b1['nwrKK']))_0x1a5dd1=_0x1a5dd1[_0x52f84a(0x163)](/<GridProfileID>/g,'');else return _0x58d9b1[_0x52f84a(0x1e5)];}const _0x317016=yaml['load'](_0x1a5dd1);if(_0x58d9b1[_0x52f84a(0xf5)](global_registry['cloudProvider'],AZURE)&&_0x58d9b1[_0x52f84a(0x109)](_0x149142[_0x58d9b1[_0x52f84a(0x103)]],undefined)){if(_0x58d9b1[_0x52f84a(0x187)](_0x58d9b1[_0x52f84a(0x21a)],_0x58d9b1[_0x52f84a(0x21a)]))_0x35a4cf=_0x58d9b1[_0x52f84a(0x22a)];else{const _0x57dfce={};_0x57dfce[_0x52f84a(0x1cc)]=''+_0x149142[_0x52f84a(0x1a8)],_0x317016[_0x52f84a(0x20a)]={'annotations':_0x57dfce,..._0x317016[_0x52f84a(0x20a)]};}}if(_0x58d9b1[_0x52f84a(0x151)](global_registry['cloudProvider'],AZURE)&&_0x58d9b1[_0x52f84a(0xf5)](_0x3d4908,_0x58d9b1['jpGEH'])){if(_0x58d9b1[_0x52f84a(0x113)](_0x58d9b1[_0x52f84a(0x22c)],_0x58d9b1[_0x52f84a(0x22c)])){if(_0x58d9b1[_0x52f84a(0x1ee)](_0x411cf2[_0x52f84a(0x213)],0x199)||_0x58d9b1[_0x52f84a(0x1ee)](_0x45052d[_0x52f84a(0x11a)],0x199))_0x2d02cd[_0x52f84a(0xdc)](_0x402f05[_0x52f84a(0x14c)]);else throw _0x8694a3;}else _0x317016[_0x52f84a(0x144)][_0x52f84a(0x10d)][_0x52f84a(0x20a)][_0x52f84a(0x1ce)]={'azure.workload.identity/use':_0x58d9b1['xYCJE'],..._0x317016[_0x52f84a(0x144)][_0x52f84a(0x10d)][_0x52f84a(0x20a)][_0x52f84a(0x1ce)]};}return _0x317016;};exports[a28_0x573a09(0x1f2)]=async(_0x2c2ca6,_0x20869d,_0x3a6ad6,_0x143f51,_0x5bb12d,_0x3037ca,_0x567b26)=>{const _0x36f23e=a28_0x573a09,_0x2600aa={};_0x2600aa[_0x36f23e(0x20e)]=_0x36f23e(0x157),_0x2600aa[_0x36f23e(0x229)]=_0x36f23e(0x10a),_0x2600aa[_0x36f23e(0x174)]='autoscaler',_0x2600aa['wOpZp']=_0x36f23e(0x125),_0x2600aa[_0x36f23e(0x105)]=_0x36f23e(0x1ed),_0x2600aa[_0x36f23e(0x192)]=_0x36f23e(0x158),_0x2600aa[_0x36f23e(0x110)]='kube-system',_0x2600aa[_0x36f23e(0x223)]=_0x36f23e(0x22b),_0x2600aa[_0x36f23e(0x147)]='clusterrole.yaml',_0x2600aa[_0x36f23e(0x106)]=_0x36f23e(0x14a),_0x2600aa['ifKaI']=_0x36f23e(0x128),_0x2600aa[_0x36f23e(0xd0)]=_0x36f23e(0x1ca),_0x2600aa[_0x36f23e(0x1ef)]=_0x36f23e(0x1c6),_0x2600aa[_0x36f23e(0x164)]='Adding\x20Autoscaler\x20namespacedRoleBinding',_0x2600aa['HTJxv']=_0x36f23e(0x10e),_0x2600aa['qVsDl']=_0x36f23e(0x145),_0x2600aa['hASHK']='deployment.yaml',_0x2600aa[_0x36f23e(0x214)]=_0x36f23e(0x1f1);const _0x533770=_0x2600aa;let _0x48ecaf=null,_0x42864f=null;logger[_0x36f23e(0xe3)](_0x533770[_0x36f23e(0x20e)]),_0x42864f=await fs['readFileAsync'](path[_0x36f23e(0x160)](__dirname,'..',_0x533770[_0x36f23e(0x229)],_0x533770['aFgin'],_0x533770['wOpZp']),_0x533770[_0x36f23e(0x105)]),_0x48ecaf=yaml[_0x36f23e(0x1ae)](_0x42864f),_0x48ecaf[_0x36f23e(0x20a)][_0x36f23e(0x161)][_0x533770['qgJvW']]=_0x567b26;const _0x150797={};_0x150797[_0x36f23e(0x1c2)]=_0x533770['JCPcZ'],_0x150797[_0x36f23e(0x1d6)]=_0x48ecaf,await _0x2c2ca6[_0x36f23e(0x186)](_0x150797),logger[_0x36f23e(0xe3)](_0x533770['KmUvv']),_0x42864f=await fs[_0x36f23e(0xf0)](path[_0x36f23e(0x160)](__dirname,'..',_0x533770[_0x36f23e(0x229)],_0x533770[_0x36f23e(0x174)],_0x533770[_0x36f23e(0x147)]),_0x533770[_0x36f23e(0x105)]),_0x48ecaf=yaml[_0x36f23e(0x1ae)](_0x42864f);const _0x2dde8b={};_0x2dde8b[_0x36f23e(0x1d6)]=_0x48ecaf,await _0x143f51[_0x36f23e(0x198)](_0x2dde8b),logger['info'](_0x533770[_0x36f23e(0x106)]),_0x42864f=await fs['readFileAsync'](path[_0x36f23e(0x160)](__dirname,'..',_0x533770[_0x36f23e(0x229)],_0x533770[_0x36f23e(0x174)],_0x533770[_0x36f23e(0x11d)]),_0x533770['puqYB']),_0x48ecaf=yaml['load'](_0x42864f);const _0xb043e0={};_0xb043e0[_0x36f23e(0x1c2)]=_0x533770[_0x36f23e(0x110)],_0xb043e0[_0x36f23e(0x1d6)]=_0x48ecaf,await _0x143f51[_0x36f23e(0x102)](_0xb043e0),logger[_0x36f23e(0xe3)](_0x533770[_0x36f23e(0xd0)]),_0x42864f=await fs[_0x36f23e(0xf0)](path[_0x36f23e(0x160)](__dirname,'..',_0x533770[_0x36f23e(0x229)],_0x533770[_0x36f23e(0x174)],_0x533770[_0x36f23e(0x1ef)]),_0x533770[_0x36f23e(0x105)]),_0x48ecaf=yaml[_0x36f23e(0x1ae)](_0x42864f);const _0x58a584={};_0x58a584[_0x36f23e(0x1d6)]=_0x48ecaf,await _0x143f51[_0x36f23e(0x212)](_0x58a584),logger[_0x36f23e(0xe3)](_0x533770[_0x36f23e(0x164)]),_0x42864f=await fs[_0x36f23e(0xf0)](path[_0x36f23e(0x160)](__dirname,'..',_0x533770[_0x36f23e(0x229)],_0x533770[_0x36f23e(0x174)],_0x533770[_0x36f23e(0xef)]),_0x533770[_0x36f23e(0x105)]),_0x48ecaf=yaml[_0x36f23e(0x1ae)](_0x42864f);const _0x2a1ea8={};_0x2a1ea8['namespace']=_0x533770[_0x36f23e(0x110)],_0x2a1ea8['body']=_0x48ecaf,await _0x143f51[_0x36f23e(0x14d)](_0x2a1ea8),logger[_0x36f23e(0xe3)](_0x533770[_0x36f23e(0xdb)]),_0x42864f=await fs[_0x36f23e(0xf0)](path[_0x36f23e(0x160)](__dirname,'..',_0x533770[_0x36f23e(0x229)],_0x533770[_0x36f23e(0x174)],_0x533770[_0x36f23e(0x1a2)]),_0x533770[_0x36f23e(0x105)]),_0x42864f=_0x42864f[_0x36f23e(0x163)](_0x533770[_0x36f23e(0x214)],_0x3037ca),_0x48ecaf=yaml[_0x36f23e(0x1ae)](_0x42864f);const _0x2c819c={};_0x2c819c[_0x36f23e(0x1c2)]=_0x533770[_0x36f23e(0x110)],_0x2c819c['body']=_0x48ecaf,await _0x20869d[_0x36f23e(0xe1)](_0x2c819c);},exports[a28_0x573a09(0x17d)]=async(_0x17b063,_0x2f228e,_0x48b239,_0x2d065c)=>{const _0x49ded3=a28_0x573a09,_0xcc9ea={};_0xcc9ea[_0x49ded3(0x1f5)]='32|2|19|10|8|4|31|14|27|3|25|34|21|29|22|12|28|11|16|30|9|20|0|15|35|24|33|6|26|23|17|1|5|7|13|18',_0xcc9ea[_0x49ded3(0x202)]=_0x49ded3(0x146),_0xcc9ea[_0x49ded3(0x1f4)]='templates',_0xcc9ea[_0x49ded3(0x203)]=_0x49ded3(0x18a),_0xcc9ea['DSouG']=_0x49ded3(0xf4),_0xcc9ea['cyYeo']=_0x49ded3(0x1ed),_0xcc9ea['mDCtS']=_0x49ded3(0xdf),_0xcc9ea[_0x49ded3(0x112)]=_0x49ded3(0x1e0),_0xcc9ea[_0x49ded3(0x1fc)]='Adding\x20MetricsServer\x20API\x20Service',_0xcc9ea[_0x49ded3(0x152)]='api-service.yaml',_0xcc9ea[_0x49ded3(0x18d)]=_0x49ded3(0x211),_0xcc9ea[_0x49ded3(0x19f)]='Adding\x20MetricsServer\x20clusterRoleBinding',_0xcc9ea[_0x49ded3(0x1dd)]='cluster-role-binding-auth-delegator.yaml',_0xcc9ea[_0x49ded3(0xe0)]=_0x49ded3(0x1c6),_0xcc9ea[_0x49ded3(0x16c)]=_0x49ded3(0x17f),_0xcc9ea[_0x49ded3(0x14b)]=_0x49ded3(0x16d),_0xcc9ea[_0x49ded3(0x1cf)]=_0x49ded3(0x1a1),_0xcc9ea[_0x49ded3(0x15e)]=_0x49ded3(0x16e),_0xcc9ea[_0x49ded3(0x166)]=_0x49ded3(0x18c),_0xcc9ea[_0x49ded3(0x1d4)]='role-binding.yaml',_0xcc9ea[_0x49ded3(0x1e4)]=_0x49ded3(0x20d),_0xcc9ea[_0x49ded3(0x11e)]=_0x49ded3(0x15d);const _0x297e3c=_0xcc9ea,_0x4f0da0=_0x297e3c[_0x49ded3(0x1f5)][_0x49ded3(0x131)]('|');let _0x46ba8c=0x0;while(!![]){switch(_0x4f0da0[_0x46ba8c++]){case'0':templateBody=yaml[_0x49ded3(0x1ae)](yamlTemplate);continue;case'1':const _0x2d1e99={};_0x2d1e99[_0x49ded3(0x1c2)]=_0x297e3c[_0x49ded3(0x202)],_0x2d1e99[_0x49ded3(0x1d6)]=templateBody,await _0x2f228e[_0x49ded3(0xe1)](_0x2d1e99);continue;case'2':yamlTemplate=await fs[_0x49ded3(0xf0)](path[_0x49ded3(0x160)](__dirname,'..',_0x297e3c[_0x49ded3(0x1f4)],_0x297e3c[_0x49ded3(0x203)],_0x297e3c[_0x49ded3(0xeb)]),_0x297e3c['cyYeo']);continue;case'3':yamlTemplate=await fs[_0x49ded3(0xf0)](path['join'](__dirname,'..',_0x297e3c[_0x49ded3(0x1f4)],_0x297e3c[_0x49ded3(0x203)],_0x297e3c[_0x49ded3(0x189)]),_0x297e3c[_0x49ded3(0x19a)]);continue;case'4':yamlTemplate=await fs[_0x49ded3(0xf0)](path['join'](__dirname,'..',_0x297e3c['YnWUV'],_0x297e3c['kMzUd'],_0x297e3c['Hqrpj']),_0x297e3c['cyYeo']);continue;case'5':logger[_0x49ded3(0xe3)](_0x297e3c['ZNomK']);continue;case'6':const _0x4a2a09={};_0x4a2a09[_0x49ded3(0x1c2)]=_0x297e3c[_0x49ded3(0x202)],_0x4a2a09['body']=templateBody,await _0x17b063[_0x49ded3(0x123)](_0x4a2a09);continue;case'7':yamlTemplate=await fs[_0x49ded3(0xf0)](path[_0x49ded3(0x160)](__dirname,'..',_0x297e3c['YnWUV'],_0x297e3c[_0x49ded3(0x203)],_0x297e3c[_0x49ded3(0x152)]),_0x297e3c[_0x49ded3(0x19a)]);continue;case'8':logger[_0x49ded3(0xe3)](_0x297e3c['ZRdvy']);continue;case'9':logger[_0x49ded3(0xe3)](_0x297e3c['Ugizn']);continue;case'10':const _0x132018={};_0x132018[_0x49ded3(0x1c2)]=_0x297e3c[_0x49ded3(0x202)],_0x132018['body']=templateBody,await _0x17b063['createNamespacedServiceAccount'](_0x132018);continue;case'11':yamlTemplate=await fs['readFileAsync'](path[_0x49ded3(0x160)](__dirname,'..',_0x297e3c['YnWUV'],_0x297e3c[_0x49ded3(0x203)],_0x297e3c[_0x49ded3(0x1dd)]),_0x297e3c[_0x49ded3(0x19a)]);continue;case'12':const _0x44574a={};_0x44574a[_0x49ded3(0x1c2)]=_0x297e3c['IMisB'],_0x44574a[_0x49ded3(0x1d6)]=templateBody,await _0x48b239['createNamespacedRoleBinding'](_0x44574a);continue;case'13':templateBody=yaml['load'](yamlTemplate);continue;case'14':const _0x108c76={};_0x108c76[_0x49ded3(0x1d6)]=templateBody,await _0x48b239['createClusterRole'](_0x108c76);continue;case'15':const _0x1b81e5={};_0x1b81e5[_0x49ded3(0x1d6)]=templateBody,await _0x48b239['createClusterRoleBinding'](_0x1b81e5);continue;case'16':templateBody=yaml['load'](yamlTemplate);continue;case'17':templateBody=yaml[_0x49ded3(0x1ae)](yamlTemplate);continue;case'18':const _0x48d5c7={};_0x48d5c7['body']=templateBody,await _0x2d065c[_0x49ded3(0x1ec)](_0x48d5c7);continue;case'19':templateBody=yaml[_0x49ded3(0x1ae)](yamlTemplate);continue;case'20':yamlTemplate=await fs[_0x49ded3(0xf0)](path[_0x49ded3(0x160)](__dirname,'..',_0x297e3c[_0x49ded3(0x1f4)],_0x297e3c[_0x49ded3(0x203)],_0x297e3c[_0x49ded3(0xe0)]),_0x297e3c[_0x49ded3(0x19a)]);continue;case'21':logger[_0x49ded3(0xe3)](_0x297e3c['QgUcj']);continue;case'22':templateBody=yaml['load'](yamlTemplate);continue;case'23':yamlTemplate=await fs[_0x49ded3(0xf0)](path[_0x49ded3(0x160)](__dirname,'..',_0x297e3c[_0x49ded3(0x1f4)],_0x297e3c[_0x49ded3(0x203)],_0x297e3c[_0x49ded3(0x14b)]),_0x297e3c['cyYeo']);continue;case'24':yamlTemplate=await fs['readFileAsync'](path[_0x49ded3(0x160)](__dirname,'..',_0x297e3c[_0x49ded3(0x1f4)],_0x297e3c[_0x49ded3(0x203)],_0x297e3c[_0x49ded3(0x1cf)]),_0x297e3c[_0x49ded3(0x19a)]);continue;case'25':templateBody=yaml[_0x49ded3(0x1ae)](yamlTemplate);continue;case'26':logger[_0x49ded3(0xe3)](_0x297e3c[_0x49ded3(0x15e)]);continue;case'27':logger[_0x49ded3(0xe3)](_0x297e3c[_0x49ded3(0x166)]);continue;case'28':logger['info'](_0x297e3c['Ugizn']);continue;case'29':yamlTemplate=await fs[_0x49ded3(0xf0)](path[_0x49ded3(0x160)](__dirname,'..',_0x297e3c[_0x49ded3(0x1f4)],_0x297e3c[_0x49ded3(0x203)],_0x297e3c['VOVnZ']),_0x297e3c[_0x49ded3(0x19a)]);continue;case'30':const _0x4a3b84={};_0x4a3b84[_0x49ded3(0x1d6)]=templateBody,await _0x48b239[_0x49ded3(0x212)](_0x4a3b84);continue;case'31':templateBody=yaml[_0x49ded3(0x1ae)](yamlTemplate);continue;case'32':logger[_0x49ded3(0xe3)](_0x297e3c['YZAad']);continue;case'33':templateBody=yaml[_0x49ded3(0x1ae)](yamlTemplate);continue;case'34':const _0x53e076={};_0x53e076[_0x49ded3(0x1d6)]=templateBody,await _0x48b239[_0x49ded3(0x198)](_0x53e076);continue;case'35':logger[_0x49ded3(0xe3)](_0x297e3c['dwLHC']);continue;}break;}},exports[a28_0x573a09(0x196)]=async _0x233d5d=>{const _0xa29fb=a28_0x573a09,_0x4e56e5={};_0x4e56e5['yuapS']=_0xa29fb(0x195),_0x4e56e5[_0xa29fb(0x1b5)]=function(_0x11a34a,_0x59db9a){return _0x11a34a===_0x59db9a;},_0x4e56e5[_0xa29fb(0x1d2)]=_0xa29fb(0x18a),_0x4e56e5['PRhIL']=_0xa29fb(0x146),_0x4e56e5['zEpSG']=function(_0x3d5e3a,_0xca7395){return _0x3d5e3a<_0xca7395;},_0x4e56e5[_0xa29fb(0x1ba)]=function(_0x5ad956,_0x55996c){return _0x5ad956!==_0x55996c;},_0x4e56e5['QeBVA']=_0xa29fb(0x173),_0x4e56e5['IEOAR']=_0xa29fb(0x1d9),_0x4e56e5[_0xa29fb(0x18b)]=function(_0x829eb9,_0x330a64){return _0x829eb9===_0x330a64;},_0x4e56e5[_0xa29fb(0x167)]=_0xa29fb(0x1bd);const _0x5bb2cb=_0x4e56e5,_0x249f67={};_0x249f67['namespace']=_0x5bb2cb[_0xa29fb(0x13c)];const _0x36fa44=await _0x233d5d[_0xa29fb(0x1e3)](_0x249f67),_0x5517e6=_0x36fa44?.[_0xa29fb(0x207)];for(let _0x448c83=0x0;_0x5bb2cb[_0xa29fb(0x134)](_0x448c83,_0x5517e6[_0xa29fb(0x21b)]);_0x448c83++){if(_0x5bb2cb[_0xa29fb(0x1ba)](_0x5bb2cb[_0xa29fb(0x1d3)],_0x5bb2cb[_0xa29fb(0x1c1)])){if(_0x5bb2cb[_0xa29fb(0x18b)](_0x5517e6[_0x448c83]['metadata'][_0xa29fb(0x1b6)],_0x5bb2cb['gjWzM'])){if(_0x5bb2cb[_0xa29fb(0x18b)](_0x5bb2cb[_0xa29fb(0x167)],_0x5bb2cb[_0xa29fb(0x167)]))return!![];else _0x7ae86d=_0x5bb2cb[_0xa29fb(0xd2)];}}else{if(_0x5bb2cb['TYeas'](_0x442985[_0x519b4d][_0xa29fb(0x20a)][_0xa29fb(0x1b6)],_0x5bb2cb['gjWzM']))return!![];}}return![];},exports[a28_0x573a09(0x19c)]=async(_0x29d6e1,_0x1a39a6)=>{const _0x479259=a28_0x573a09,_0x4cff04={};_0x4cff04[_0x479259(0x122)]=function(_0x1a5c21,_0x5aa537){return _0x1a5c21===_0x5aa537;},_0x4cff04[_0x479259(0x12f)]='zGWWu',_0x4cff04['wwnbn']='KIhEf',_0x4cff04[_0x479259(0x21d)]=function(_0x2b4a00,_0xfb12fe){return _0x2b4a00===_0xfb12fe;},_0x4cff04[_0x479259(0x1f9)]=_0x479259(0x137),_0x4cff04[_0x479259(0x104)]=_0x479259(0x162);const _0x5afb59=_0x4cff04;try{if(_0x5afb59[_0x479259(0x122)](_0x5afb59[_0x479259(0x12f)],_0x5afb59[_0x479259(0x19b)])){const _0x4b4a47={};_0x4b4a47[_0x479259(0x1cc)]=''+_0x410333['clientId'];const _0x4cdc33={'annotations':_0x4b4a47,..._0x3f2af9[_0x479259(0x20a)]};_0xf800b3['metadata']=_0x4cdc33;}else{const _0x5ecd87={};_0x5ecd87[_0x479259(0x1b6)]=_0x1a39a6;const _0x85a5a7=await _0x29d6e1[_0x479259(0x12e)](_0x5ecd87);return!![];}}catch(_0x1da6ba){if(_0x5afb59[_0x479259(0x21d)](_0x5afb59[_0x479259(0x1f9)],_0x5afb59[_0x479259(0x104)]))_0x540ef4=_0x506756[_0x479259(0x163)](/<GridProfileID>/g,'');else return![];}},exports['getNamespaceUID']=async(_0x54f6ec,_0xf67b2c)=>{const _0x369f37=a28_0x573a09,_0xd43b16={};_0xd43b16[_0x369f37(0x12c)]=function(_0x53bc59,_0x546f5a){return _0x53bc59!==_0x546f5a;},_0xd43b16[_0x369f37(0x175)]=_0x369f37(0x1d5),_0xd43b16[_0x369f37(0x1de)]='CcbWJ',_0xd43b16[_0x369f37(0x21c)]=function(_0x9200a1,_0x5a429e){return _0x9200a1===_0x5a429e;},_0xd43b16['wrSOx']=_0x369f37(0xe7),_0xd43b16['JQLZQ']=_0x369f37(0x21f);const _0x1d47c8=_0xd43b16;try{if(_0x1d47c8[_0x369f37(0x12c)](_0x1d47c8[_0x369f37(0x175)],_0x1d47c8[_0x369f37(0x1de)])){const _0x277c69={};_0x277c69['name']=_0xf67b2c;const _0x4e9c75=await _0x54f6ec[_0x369f37(0x12e)](_0x277c69),_0x3cfd77=_0x4e9c75?.[_0x369f37(0x20a)]?.[_0x369f37(0x124)];return _0x3cfd77;}else _0x4cef39=_0x4894fb[_0x369f37(0x163)](/<GridProfileID>/g,_0x37cda8[_0x369f37(0x142)]);}catch(_0x48520e){if(_0x1d47c8['EQdWe'](_0x1d47c8[_0x369f37(0x20f)],_0x1d47c8[_0x369f37(0x20f)]))return _0x1d47c8[_0x369f37(0x219)];else _0x17669b[_0x369f37(0xdc)](_0x13492b[_0x369f37(0x14c)]);}},exports[a28_0x573a09(0x190)]=async(_0x4ee74d,_0xe0656b,_0x2dbed9,_0x48bb57,_0x3c2a69,_0x108673,_0x1f918d,_0x583154,_0x1db247,_0x402a85={},_0x1882e9)=>{const _0x3abd22=a28_0x573a09,_0x3d92f8={'lnJFk':_0x3abd22(0x100),'GfHmk':'service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','DaJQO':_0x3abd22(0x108),'PJOuG':function(_0x2cd159,_0x15efbb,_0x58c099){return _0x2cd159(_0x15efbb,_0x58c099);},'wRJgR':_0x3abd22(0x1c6),'fByPe':_0x3abd22(0x194),'jMTei':function(_0x251978,_0x34e9dc){return _0x251978!=_0x34e9dc;},'FCEVI':function(_0x11e484,_0x48f725){return _0x11e484!==_0x48f725;},'nVdic':_0x3abd22(0x227),'Zgqcl':_0x3abd22(0x18f),'UxUDB':'Adding\x20Autoscaler\x20Components','HBarD':_0x3abd22(0x1fe),'UyKWg':function(_0x4aad18,_0x4ffa7d){return _0x4aad18!==_0x4ffa7d;},'uDFHM':_0x3abd22(0x221),'SUbTt':_0x3abd22(0x15a),'NskMd':_0x3abd22(0x143),'VTYQY':function(_0x1b2d34,_0x519d75){return _0x1b2d34===_0x519d75;},'NEXsE':_0x3abd22(0x120),'OPFVI':_0x3abd22(0x170),'HntqQ':function(_0x1ecd31,_0x4495a1,_0x56a9c5,_0x35c4a7){return _0x1ecd31(_0x4495a1,_0x56a9c5,_0x35c4a7);},'mYGmD':'browser-node-service-account.yaml','CNfaM':_0x3abd22(0x184),'xtQKv':function(_0x2adaa2,_0xa827cb){return _0x2adaa2===_0xa827cb;},'GtXGJ':_0x3abd22(0x220),'GJbqM':_0x3abd22(0x177),'VVLhJ':_0x3abd22(0xd4),'aresf':function(_0x49b6e2,_0x4f29b0,_0x9ef687,_0x313e54){return _0x49b6e2(_0x4f29b0,_0x9ef687,_0x313e54);},'JUdkY':_0x3abd22(0x19d),'Dphvh':_0x3abd22(0x19e),'ShJiy':_0x3abd22(0x1e1),'yAmPi':_0x3abd22(0x1fa),'OLfpy':_0x3abd22(0x133),'Fhgny':'Added\x20browser-node-role\x20cluster\x20role','SKTBq':_0x3abd22(0x127),'Fsabv':_0x3abd22(0x210),'pdKOe':'Added\x20browser-node-role-binding\x20role\x20binding','tbzse':function(_0x233409,_0xeb576e){return _0x233409===_0xeb576e;},'WqxuU':'ingress-nginx','bSqJq':_0x3abd22(0xe9),'xyydc':_0x3abd22(0x1c9),'kTFzF':_0x3abd22(0x13b),'tYosu':function(_0x25a998,_0x4e6ef5,_0x1cfa26){return _0x25a998(_0x4e6ef5,_0x1cfa26);},'uCtvP':_0x3abd22(0x1c8),'oWUBl':'templates','UHFgh':'nginx','xKnZX':'helper.yaml','DSFBc':'utf-8','KPxxx':_0x3abd22(0x11f),'MfXQV':'Added\x20Nginx\x20Pods\x20and\x20deployments','eaZSm':_0x3abd22(0xe4),'lioTk':function(_0x56c01d,_0x39567e){return _0x56c01d===_0x39567e;},'QKhov':_0x3abd22(0x20b),'phPnz':function(_0x10a213,_0x578d75){return _0x10a213===_0x578d75;},'mkOJi':_0x3abd22(0x195),'HOeju':_0x3abd22(0x1b8),'Qaxja':function(_0x26d4c8,_0x20cdd9,_0x3b4744){return _0x26d4c8(_0x20cdd9,_0x3b4744);},'EZiTq':'Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','esImX':'1|4|3|0|2','vOywO':function(_0x45fb00,_0x8802be,_0x20910c){return _0x45fb00(_0x8802be,_0x20910c);},'hvvYl':_0x3abd22(0xfc),'BJdBq':_0x3abd22(0x11b),'VaCYX':'vpc-cni-cm.yaml','gcCNC':_0x3abd22(0x1df),'NJUyW':'14|4|3|9|6|8|11|15|2|5|13|0|10|12|7|1','kydWG':_0x3abd22(0x156),'vRruH':_0x3abd22(0x135),'EfXuu':function(_0x357ccb,_0x5359e2,_0x1d73f){return _0x357ccb(_0x5359e2,_0x1d73f);},'beHbN':_0x3abd22(0x1da),'TWOiz':_0x3abd22(0x208),'CrLZM':_0x3abd22(0x1ad),'NqdlT':_0x3abd22(0xe8),'VZkkk':function(_0x54a115,_0x2bd1bb,_0xd9c410){return _0x54a115(_0x2bd1bb,_0xd9c410);},'xklnq':_0x3abd22(0x215),'xCuBr':_0x3abd22(0x17b),'IKbuy':function(_0x450821,_0x1eb119){return _0x450821(_0x1eb119);},'TmfDJ':'Adding\x20Cert\x20Manager\x20CRDs','exNXt':_0x3abd22(0x17c),'AlXZD':_0x3abd22(0x180),'MdUAl':_0x3abd22(0xd7),'abVkm':'Adding\x20Turboscale\x20Agent','PAzro':'turboscale-agent.yaml','CYfHa':'Adding\x20hubservice','VNbIH':function(_0x832590,_0x115cd8,_0x57ec5d){return _0x832590(_0x115cd8,_0x57ec5d);},'KnKLz':'hub-service.yaml','LvNlz':_0x3abd22(0x1b9),'xHJpP':'Adding\x20hubdeployment','iLKxM':_0x3abd22(0x188),'BhcDD':_0x3abd22(0x119),'VJivG':_0x3abd22(0xe2),'yqqBp':_0x3abd22(0x1cb),'YeYBB':_0x3abd22(0x1c4),'SGDrq':function(_0x3cf9f9,_0x28779f,_0x40da78){return _0x3cf9f9(_0x28779f,_0x40da78);},'GrcYq':'Added\x20Ingress'};let _0x319690=null;logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x17e)]),_0x319690=await _0x3d92f8[_0x3abd22(0x159)](applyTemplate,_0x3d92f8[_0x3abd22(0x20c)],_0x3c2a69);const _0xc7287d={};_0xc7287d[_0x3abd22(0x1d6)]=_0x319690,await _0x48bb57['createClusterRoleBinding'](_0xc7287d),logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x1fd)]);if(_0x3d92f8[_0x3abd22(0x183)](_0x1f918d,null)&&_0x3d92f8[_0x3abd22(0x1b1)](_0x1f918d,undefined)){if(_0x3d92f8[_0x3abd22(0x1b1)](_0x3d92f8[_0x3abd22(0x209)],_0x3d92f8[_0x3abd22(0xe5)]))logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x1c0)]),await this[_0x3abd22(0x1f2)](_0x4ee74d,_0xe0656b,_0x2dbed9,_0x48bb57,_0x3c2a69,_0x108673,_0x1f918d),logger[_0x3abd22(0xe3)](_0x3d92f8['HBarD']);else return!![];}const _0x2ffc20=await this[_0x3abd22(0x196)](_0x4ee74d);if(!_0x2ffc20){if(_0x3d92f8['UyKWg'](_0x3d92f8[_0x3abd22(0x15b)],_0x3d92f8['uDFHM'])){const _0x35898e={'azure.workload.identity/use':_0x3d92f8[_0x3abd22(0xf8)],..._0x4e9a25[_0x3abd22(0x144)][_0x3abd22(0x10d)][_0x3abd22(0x20a)][_0x3abd22(0x1ce)]};_0x1c35d8[_0x3abd22(0x144)][_0x3abd22(0x10d)][_0x3abd22(0x20a)][_0x3abd22(0x1ce)]=_0x35898e;}else logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x155)]),await this['addMetricServerComponents'](_0x4ee74d,_0xe0656b,_0x48bb57,_0x583154),logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x139)]);}try{if(_0x3d92f8[_0x3abd22(0x141)](_0x3d92f8[_0x3abd22(0x1e7)],_0x3d92f8[_0x3abd22(0x1e7)])){logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x149)]),_0x319690=await _0x3d92f8[_0x3abd22(0xf7)](applyTemplate,_0x3d92f8[_0x3abd22(0x1f6)],_0x3c2a69,_0x402a85);const _0x2b710d={};_0x2b710d[_0x3abd22(0x1c2)]=_0x3c2a69,_0x2b710d['body']=_0x319690,await _0x4ee74d[_0x3abd22(0x186)](_0x2b710d),logger[_0x3abd22(0xe3)](_0x3d92f8['CNfaM']);if(_0x3d92f8[_0x3abd22(0x14e)](global_registry[_0x3abd22(0x169)],AZURE)){if(_0x3d92f8[_0x3abd22(0x14e)](_0x3d92f8['GtXGJ'],_0x3d92f8[_0x3abd22(0x225)]))return![];else{logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x13e)]),_0x319690=await _0x3d92f8[_0x3abd22(0x121)](applyTemplate,_0x3d92f8[_0x3abd22(0x1bb)],_0x3c2a69,_0x402a85);const _0x1109b5={};_0x1109b5[_0x3abd22(0x1b6)]=_0x3d92f8[_0x3abd22(0x199)],_0x1109b5['namespace']=_0x3c2a69,_0x1109b5[_0x3abd22(0x1d6)]=_0x319690,await _0x4ee74d[_0x3abd22(0x115)](_0x1109b5),logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x204)]);}}logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x1d7)]),_0x319690=await _0x3d92f8['PJOuG'](applyTemplate,_0x3d92f8[_0x3abd22(0x114)],_0x3c2a69);const _0x528d3f={};_0x528d3f['body']=_0x319690,await _0x48bb57[_0x3abd22(0x198)](_0x528d3f),logger[_0x3abd22(0xe3)](_0x3d92f8['Fhgny']),logger[_0x3abd22(0xe3)](_0x3d92f8['SKTBq']),_0x319690=await _0x3d92f8['PJOuG'](applyTemplate,_0x3d92f8['Fsabv'],_0x3c2a69);const _0x23dd5a={};_0x23dd5a['body']=_0x319690,await _0x48bb57[_0x3abd22(0x212)](_0x23dd5a),logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x15f)]);}else _0x702ff6=_0x3d92f8['GfHmk'];}catch(_0x4a04e9){if(_0x3d92f8[_0x3abd22(0x136)](_0x4a04e9[_0x3abd22(0x213)],0x199)||_0x3d92f8[_0x3abd22(0x136)](_0x4a04e9[_0x3abd22(0x11a)],0x199))logger[_0x3abd22(0xdc)](_0x4a04e9['message']);else throw _0x4a04e9;}const _0x6e489b=await this[_0x3abd22(0x19c)](_0x4ee74d,_0x3d92f8[_0x3abd22(0x193)]);if(!_0x6e489b){const _0x2d8e64=_0x3d92f8['bSqJq']['split']('|');let _0x2b4814=0x0;while(!![]){switch(_0x2d8e64[_0x2b4814++]){case'0':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x1e6)]);continue;case'1':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0xf1)]);continue;case'2':await _0x3d92f8[_0x3abd22(0x1a9)](kubeApply,_0x319690,_0x1db247);continue;case'3':_0x319690=yaml[_0x3abd22(0xde)](yamlTemplate);continue;case'4':logger[_0x3abd22(0xe3)](_0x3d92f8['uCtvP']);continue;case'5':yamlTemplate=await fs['readFileAsync'](path[_0x3abd22(0x160)](__dirname,'..',_0x3d92f8[_0x3abd22(0x116)],_0x3d92f8[_0x3abd22(0x228)],_0x3d92f8['xKnZX']),_0x3d92f8[_0x3abd22(0xfd)]);continue;case'6':_0x319690=yaml[_0x3abd22(0xde)](yamlTemplate);continue;case'7':yamlTemplate=await fs[_0x3abd22(0xf0)](path[_0x3abd22(0x160)](__dirname,'..',_0x3d92f8[_0x3abd22(0x116)],_0x3d92f8['UHFgh'],_0x3d92f8[_0x3abd22(0x1eb)]),_0x3d92f8[_0x3abd22(0xfd)]);continue;case'8':await _0x3d92f8[_0x3abd22(0x159)](kubeApply,_0x319690,_0x1db247);continue;case'9':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x185)]);continue;}break;}}if(global_registry['isPrivateGrid']){logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x154)]);let _0x50be70;if(_0x3d92f8[_0x3abd22(0x165)](global_registry['cloudProvider'],AZURE))_0x50be70=_0x3d92f8[_0x3abd22(0x117)];else _0x3d92f8[_0x3abd22(0x14f)](global_registry[_0x3abd22(0x169)],GCP)?_0x50be70=_0x3d92f8[_0x3abd22(0x1b4)]:_0x50be70=_0x3d92f8['GfHmk'];yamlTemplate=await fs[_0x3abd22(0xf0)](path[_0x3abd22(0x160)](__dirname,'..',_0x3d92f8['oWUBl'],_0x3d92f8[_0x3abd22(0x228)],_0x3d92f8[_0x3abd22(0x18e)]),_0x3d92f8[_0x3abd22(0xfd)]),yamlTemplate=yamlTemplate[_0x3abd22(0x163)](/<InternalLoadBalancerAnnotations>/g,_0x50be70),_0x319690=yaml['loadAll'](yamlTemplate),await _0x3d92f8[_0x3abd22(0x12d)](kubeApply,_0x319690,_0x1db247),logger['info'](_0x3d92f8['EZiTq']);}if(global_registry['isNewAWSCluster']){const _0x47e04b=_0x3d92f8[_0x3abd22(0xfa)]['split']('|');let _0x21cec6=0x0;while(!![]){switch(_0x47e04b[_0x21cec6++]){case'0':await _0x3d92f8[_0x3abd22(0x1aa)](kubeApply,_0x319690,_0x1db247);continue;case'1':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x205)]);continue;case'2':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0xff)]);continue;case'3':_0x319690=yaml['loadAll'](yamlTemplate);continue;case'4':yamlTemplate=await fs['readFileAsync'](path[_0x3abd22(0x160)](__dirname,'..',_0x3d92f8[_0x3abd22(0x116)],_0x3d92f8['VaCYX']),_0x3d92f8['DSFBc']);continue;}break;}}const _0x2281cb=await this['namespaceExists'](_0x4ee74d,_0x3d92f8[_0x3abd22(0x1b3)]);if(!_0x2281cb){const _0x150272=_0x3d92f8[_0x3abd22(0x21e)][_0x3abd22(0x131)]('|');let _0x5b50c9=0x0;while(!![]){switch(_0x150272[_0x5b50c9++]){case'0':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x1d8)]);continue;case'1':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x1b0)]);continue;case'2':await _0x3d92f8[_0x3abd22(0x1b2)](kubeApply,_0x319690,_0x1db247);continue;case'3':_0x319690=yaml[_0x3abd22(0xde)](yamlTemplate);continue;case'4':yamlTemplate=await fs[_0x3abd22(0xf0)](path[_0x3abd22(0x160)](__dirname,'..',_0x3d92f8[_0x3abd22(0x116)],_0x3d92f8[_0x3abd22(0x1b3)],_0x3d92f8[_0x3abd22(0x1dc)]),_0x3d92f8[_0x3abd22(0xfd)]);continue;case'5':logger['info'](_0x3d92f8[_0x3abd22(0x226)]);continue;case'6':logger[_0x3abd22(0xe3)](_0x3d92f8['CrLZM']);continue;case'7':await _0x3d92f8[_0x3abd22(0x1a9)](kubeApply,_0x319690,_0x1db247);continue;case'8':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x16b)]);continue;case'9':await _0x3d92f8[_0x3abd22(0x1a6)](kubeApply,_0x319690,_0x1db247);continue;case'10':yamlTemplate=await fs[_0x3abd22(0xf0)](path[_0x3abd22(0x160)](__dirname,'..',_0x3d92f8['oWUBl'],_0x3d92f8[_0x3abd22(0x1b3)],_0x3d92f8['xklnq']),_0x3d92f8[_0x3abd22(0xfd)]);continue;case'11':yamlTemplate=await fs[_0x3abd22(0xf0)](path[_0x3abd22(0x160)](__dirname,'..',_0x3d92f8['oWUBl'],_0x3d92f8[_0x3abd22(0x1b3)],_0x3d92f8[_0x3abd22(0x1ac)]),_0x3d92f8[_0x3abd22(0xfd)]);continue;case'12':_0x319690=yaml['loadAll'](yamlTemplate);continue;case'13':await _0x3d92f8['IKbuy'](delay,0x2710);continue;case'14':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x1ab)]);continue;case'15':_0x319690=yaml[_0x3abd22(0xde)](yamlTemplate);continue;}break;}}const _0x179275=await this['namespaceExists'](_0x4ee74d,_0x3d92f8[_0x3abd22(0x140)]);if(!_0x179275){const _0x3b6d71=_0x3d92f8[_0x3abd22(0x181)][_0x3abd22(0x131)]('|');let _0x152fc4=0x0;while(!![]){switch(_0x3b6d71[_0x152fc4++]){case'0':_0x319690=yaml[_0x3abd22(0xde)](yamlTemplate);continue;case'1':yamlTemplate=yamlTemplate[_0x3abd22(0x163)](/<BstackURL>/g,AG_API_URL);continue;case'2':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x200)]);continue;case'3':yamlTemplate=yamlTemplate[_0x3abd22(0x163)](/<BstackAccessKey>/g,global_registry[_0x3abd22(0x224)]);continue;case'4':logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x1a3)]);continue;case'5':await _0x3d92f8[_0x3abd22(0x159)](kubeApply,_0x319690,_0x1db247);continue;case'6':yamlTemplate=yamlTemplate[_0x3abd22(0x163)](/<BstackUsername>/g,global_registry[_0x3abd22(0x1fb)]);continue;case'7':yamlTemplate=await fs['readFileAsync'](path[_0x3abd22(0x160)](__dirname,'..',_0x3d92f8[_0x3abd22(0x116)],_0x3d92f8[_0x3abd22(0x130)]),_0x3d92f8['DSFBc']);continue;}break;}}logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x201)]),_0x319690=await _0x3d92f8[_0x3abd22(0x1af)](applyTemplate,_0x3d92f8[_0x3abd22(0x1a0)],_0x3c2a69);const _0x4d9922={};_0x4d9922[_0x3abd22(0x1c2)]=_0x3c2a69,_0x4d9922[_0x3abd22(0x1d6)]=_0x319690,await _0x4ee74d[_0x3abd22(0x123)](_0x4d9922),logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x16a)]),logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x107)]),_0x319690=await _0x3d92f8[_0x3abd22(0x1a9)](applyTemplate,_0x3d92f8[_0x3abd22(0x1f0)],_0x3c2a69);const _0x19ea42={};_0x19ea42['namespace']=_0x3c2a69,_0x19ea42['body']=_0x319690,await _0xe0656b[_0x3abd22(0xe1)](_0x19ea42),logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x1e8)]),logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x1cd)]),yamlTemplate=await fs[_0x3abd22(0xf0)](path['join'](__dirname,'..',_0x3d92f8[_0x3abd22(0x116)],_0x3d92f8[_0x3abd22(0x1a4)]),_0x3d92f8['DSFBc']);let _0x256d7f=global_registry[_0x3abd22(0x16f)]?_0x3d92f8['YeYBB']:_0x3d92f8[_0x3abd22(0x228)];yamlTemplate=yamlTemplate['replace'](/<GridNamespace>/g,_0x3c2a69),yamlTemplate=yamlTemplate['replace'](/<NginxIngressClass>/g,_0x256d7f),_0x319690=yaml[_0x3abd22(0xde)](yamlTemplate),await _0x3d92f8[_0x3abd22(0x15c)](kubeApply,_0x319690,_0x1db247),logger[_0x3abd22(0xe3)](_0x3d92f8[_0x3abd22(0x168)]),await _0x3d92f8[_0x3abd22(0xf2)](delay,0x2710);},exports['removeGridComponents']=async(_0x5db003,_0x4f350b,_0x1058c5,_0x1227b1,_0xdb74dc)=>{const _0x4e0577=a28_0x573a09,_0x2b3aaf={'pWLmt':'1|2|0|6|3|4|5','twMFI':'Removed\x20grid\x20components','AzKUn':'Removing\x20grid\x20components','zTzlS':_0x4e0577(0x178),'YFSCc':'Deleted\x20clusterrolebinding','iKisV':function(_0x2662ff,_0x4e85e4){return _0x2662ff(_0x4e85e4);}},_0x27f269=_0x2b3aaf['pWLmt'][_0x4e0577(0x131)]('|');let _0x25ee9c=0x0;while(!![]){switch(_0x27f269[_0x25ee9c++]){case'0':logger['info'](_0x2b3aaf['twMFI']);continue;case'1':logger[_0x4e0577(0xe3)](_0x2b3aaf['AzKUn']);continue;case'2':const _0x26726c={};_0x26726c['name']=_0xdb74dc,await _0x5db003[_0x4e0577(0xec)](_0x26726c);continue;case'3':logger[_0x4e0577(0xe3)](_0x2b3aaf[_0x4e0577(0xd5)]);continue;case'4':const _0x5236e9={};_0x5236e9['name']=_0x4e0577(0x101)+_0xdb74dc,await _0x1227b1[_0x4e0577(0x1e2)](_0x5236e9);continue;case'5':logger[_0x4e0577(0xe3)](_0x2b3aaf['YFSCc']);continue;case'6':await _0x2b3aaf[_0x4e0577(0x1bf)](delay,0x2710);continue;}break;}},exports[a28_0x573a09(0x1b7)]=async _0x22e8cc=>{const _0x4c9715=a28_0x573a09,_0x3f16c1={};_0x3f16c1['UXCWY']=_0x4c9715(0x17c),_0x3f16c1[_0x4c9715(0x111)]='Deleting\x20Turboscale\x20Agent',_0x3f16c1[_0x4c9715(0x1c7)]=_0x4c9715(0x216);const _0x23fbc4=_0x3f16c1,_0xe4bfdd=await this[_0x4c9715(0x19c)](_0x22e8cc,_0x23fbc4['UXCWY']);if(_0xe4bfdd){logger[_0x4c9715(0xe3)](_0x23fbc4[_0x4c9715(0x111)]);const _0x1e9f39={};_0x1e9f39[_0x4c9715(0x1b6)]=_0x23fbc4['UXCWY'],await _0x22e8cc[_0x4c9715(0xec)](_0x1e9f39),logger['info'](_0x23fbc4[_0x4c9715(0x1c7)]);}},exports[a28_0x573a09(0xd3)]=async _0x40d973=>{const _0x5e6e22=a28_0x573a09,_0x463ab1={'VzcDx':'ingress-nginx','NUoDf':'Deleting\x20ingress-nginx','etvEC':'Deleted\x20ingress-nginx','YRypH':function(_0x38cd0d,_0x51fcb7){return _0x38cd0d(_0x51fcb7);},'hAXXg':_0x5e6e22(0x1df),'aKGEA':_0x5e6e22(0x1f8),'jwXqn':_0x5e6e22(0x129)},_0x18be02=await this[_0x5e6e22(0x19c)](_0x40d973,_0x463ab1['VzcDx']);if(_0x18be02){logger[_0x5e6e22(0xe3)](_0x463ab1[_0x5e6e22(0xed)]);const _0x1e019b={};_0x1e019b[_0x5e6e22(0x1b6)]=_0x463ab1[_0x5e6e22(0xf3)],await _0x40d973[_0x5e6e22(0xec)](_0x1e019b),logger[_0x5e6e22(0xe3)](_0x463ab1['etvEC']);}await _0x463ab1[_0x5e6e22(0x138)](delay,0x124f8);const _0xc97c=await this[_0x5e6e22(0x19c)](_0x40d973,_0x463ab1[_0x5e6e22(0x12b)]);if(_0xc97c){logger[_0x5e6e22(0xe3)](_0x463ab1[_0x5e6e22(0x13d)]);const _0x4e9bfa={};_0x4e9bfa['name']=_0x463ab1[_0x5e6e22(0x12b)],await _0x40d973[_0x5e6e22(0xec)](_0x4e9bfa),logger['info'](_0x463ab1[_0x5e6e22(0x126)]);}await _0x463ab1[_0x5e6e22(0x138)](delay,0xafc8);},exports[a28_0x573a09(0xfb)]=async _0x403c32=>{const _0x31120f=a28_0x573a09,_0x275edf={'vsWNM':function(_0x10d766,_0xc3a951){return _0x10d766(_0xc3a951);},'sdbuz':_0x31120f(0x172)};logger[_0x31120f(0xe3)](_0x31120f(0x1ea)+CLUSTER_DEP_STACK_NAME+'\x20&\x20'+CLUSTER_AUTOSCALER_STACK_NAME+_0x31120f(0x197)+_0x403c32),await Promise[_0x31120f(0x150)]([_0x275edf[_0x31120f(0x1ff)](deleteClusterStack,CLUSTER_DEP_STACK_NAME),_0x275edf[_0x31120f(0x1ff)](deleteClusterStack,CLUSTER_AUTOSCALER_STACK_NAME)]),logger['info'](_0x275edf[_0x31120f(0x179)]);},exports['scaleUpHubDeployment']=async(_0x3393d0,_0x31a75e)=>{const _0x3df42e=a28_0x573a09,_0x48f196={};_0x48f196[_0x3df42e(0xf6)]=_0x3df42e(0x217),_0x48f196[_0x3df42e(0x1f3)]=_0x3df42e(0x118),_0x48f196[_0x3df42e(0xd8)]='Scaled\x20up\x20deployment';const _0x21c354=_0x48f196;logger['info'](_0x21c354['LrRgu']);const _0x23ce63={};_0x23ce63[_0x3df42e(0x1b6)]=_0x21c354[_0x3df42e(0x1f3)],_0x23ce63[_0x3df42e(0x1c2)]=_0x31a75e;const _0x23a924=await _0x3393d0['readNamespacedDeployment'](_0x23ce63);_0x23a924[_0x3df42e(0x144)]['replicas']=0x1;const _0x2996eb={};_0x2996eb[_0x3df42e(0x1b6)]=_0x21c354[_0x3df42e(0x1f3)],_0x2996eb['namespace']=_0x31a75e,_0x2996eb[_0x3df42e(0x1d6)]=_0x23a924,await _0x3393d0['replaceNamespacedDeployment'](_0x2996eb),logger[_0x3df42e(0xe3)](_0x21c354[_0x3df42e(0xd8)]);},exports[a28_0x573a09(0x222)]=async(_0xc2c621,_0x52472b)=>{const _0x2c5a6c=a28_0x573a09,_0x4c6e00={};_0x4c6e00['ZoWjO']=_0x2c5a6c(0x176),_0x4c6e00['uHhdh']=_0x2c5a6c(0x118),_0x4c6e00[_0x2c5a6c(0x1c5)]=_0x2c5a6c(0x1a7);const _0x1246e9=_0x4c6e00;logger['info'](_0x1246e9[_0x2c5a6c(0x206)]);const _0x4b4364={};_0x4b4364[_0x2c5a6c(0x1b6)]=_0x1246e9['uHhdh'],_0x4b4364['namespace']=_0x52472b;const _0x5763e7=await _0xc2c621[_0x2c5a6c(0x1be)](_0x4b4364);_0x5763e7[_0x2c5a6c(0x144)][_0x2c5a6c(0x1bc)]=0x0;const _0x45ff6f={};_0x45ff6f[_0x2c5a6c(0x1b6)]=_0x1246e9[_0x2c5a6c(0xfe)],_0x45ff6f['namespace']=_0x52472b,_0x45ff6f[_0x2c5a6c(0x1d6)]=_0x5763e7,await _0xc2c621['replaceNamespacedDeployment'](_0x45ff6f),logger['info'](_0x1246e9[_0x2c5a6c(0x1c5)]);};