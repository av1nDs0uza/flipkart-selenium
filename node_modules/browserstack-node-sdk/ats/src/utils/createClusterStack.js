const a25_0x45d3e7=a25_0x4867;(function(_0x43d367,_0x2cafdb){const _0x1c0a2c=a25_0x4867,_0x26f79f=_0x43d367();while(!![]){try{const _0x742968=-parseInt(_0x1c0a2c(0x15d))/0x1*(parseInt(_0x1c0a2c(0x188))/0x2)+-parseInt(_0x1c0a2c(0x20f))/0x3*(-parseInt(_0x1c0a2c(0x19f))/0x4)+parseInt(_0x1c0a2c(0x173))/0x5+-parseInt(_0x1c0a2c(0x167))/0x6*(-parseInt(_0x1c0a2c(0x174))/0x7)+parseInt(_0x1c0a2c(0x1db))/0x8+-parseInt(_0x1c0a2c(0x204))/0x9*(parseInt(_0x1c0a2c(0x1c1))/0xa)+parseInt(_0x1c0a2c(0x1ed))/0xb*(-parseInt(_0x1c0a2c(0x214))/0xc);if(_0x742968===_0x2cafdb)break;else _0x26f79f['push'](_0x26f79f['shift']());}catch(_0x22c524){_0x26f79f['push'](_0x26f79f['shift']());}}}(a25_0x5ed8,0xc0d58));function a25_0x4867(_0xa6861f,_0x4076e5){const _0x5ed81e=a25_0x5ed8();return a25_0x4867=function(_0x486707,_0xb57e29){_0x486707=_0x486707-0x15d;let _0xa4bb9f=_0x5ed81e[_0x486707];return _0xa4bb9f;},a25_0x4867(_0xa6861f,_0x4076e5);}const fs=require('fs'),path=require(a25_0x45d3e7(0x1d2)),Promise=require('bluebird'),yaml=require(a25_0x45d3e7(0x1a7)),{CLOUDFORMATION_SCHEMA}=require(a25_0x45d3e7(0x17e)),AWS=require(a25_0x45d3e7(0x16f))[a25_0x45d3e7(0x16d)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a25_0x45d3e7(0x1ae)),{logger}=require('../config/logger'),{isBucketPresent}=require(a25_0x45d3e7(0x16f));function a25_0x5ed8(){const _0x42a2ba=['NodeAutoScalingGroupMinSizeWindows','ZoeRi','AgYzW','amXyJ','Subnets','Subnet01','waitFor','sNgSo','promisifyAll','rvkHN','-NodeGroup','S3BucketName','yIude','EKSCluster','ucPOP','12810DhLBVS','EFMGT','split','subnet-import.yaml','TemplateBody','debug','dakdd','UISrp','NodeGroupName','PHfXN','0|4|3|2|1','VpJrQ','Subnet03Block','DependsOn','ParameterKey','DiVUQ','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','path','push','-Windows-NodeGroup','ZlCll','TkZix','cGbQC','xjHrV','egsIG','zjZpp','7433808pwSoSu','2010-05-15','MnMWJ','schema','AWS::CloudFormation::Interface','Subnet01Block','aws-eks-cluster-dep.yaml','oGJYZ','browserstack:cluster','SjiSJ','RDyKn','puqQN','xxxEx','zyTfL','YhlUO','mtFga','WagDS','Ref','72677aEfBOh','NwIUy','VMjkI','NmUYH','dEGwK','dIrDB','DQbJx','ResourcesVpcConfig','IvhjN','tBckF','rAoSc','pEjow','utf-8','NodeGroupNameWindows','fvbWL','ParameterValue','Fn::Join','vpc-create.yaml','tAkZR','ParameterGroups','nPmCW','usZKD','cMmZM','5940UlFJTI','Properties','cpyjb','KdBYP','Subnet03','keys','dgPYN','Subnet02','Outputs','MZDZz','s3Bucket','1323RZInDg','YFtuV','NodeInstanceType','GXDlz','VmrDA','1356avcSsT','padStart','OvZaC','xLASr','RkNMg','bgQbV','Yfsnq','Subnet','promise','StackName','MZxca','Value','apiVersion','Resources','2|3|4|1|0','pLSZa','Tags','1208639GGpVEX','stringify','CFTemplates','AEINR','lANfG','s3-create.yaml','Parameters','QZUiu','okGJV','oLZqw','27690XOcOJe','eJNoC','cjych','Key','izutL','VcrFZ','awsObj','SIPRV','./AWSUtils','valueOf','woBTP','hSWWH','6773770LImdAL','1351CXJKsv','euWQJ','yghMT','toString','join','lHfkF','StackId','SubnetIds','vpc-import.yaml','ZNFzf','js-yaml-cloudformation-schema','snlcZ','pdXhO','UpXjY','VPC','Subnet02Block','rfYrp','AtRJj','deSOR','createStack','2BDuqqt','mSgHq','FRDBJ','CloudFormation','CAPABILITY_NAMED_IAM','pZiIh','ZtnpH','NodeGroupWindows','qbTGj','DERiL','QyQft','IurLf','DELETE','Phrrk','forEach','mIJvM','CoGRQ','PiJrG','GMNxh','Bmbbw','HSZgm','NodeAutoScalingGroupMinSize','GTojN','3772IbrAYj','epIxV','fPFbS','tJmEd','GTbEh','fLVBS','readFileAsync','Metadata','js-yaml','IVHVr','createClusterStack','ksYBI','FpvBe','NodeAutoScalingGroupMaxSize','NodeGroup','../config/constants','rowmb','SxwzC','load'];a25_0x5ed8=function(){return _0x42a2ba;};return a25_0x5ed8();}Promise[a25_0x45d3e7(0x1ba)](fs),mergeTemplates=(_0x4276e4,_0x28f532)=>{const _0x276536=a25_0x45d3e7,_0x5ef3cb={'rfYrp':function(_0x87f050,_0x18d0de){return _0x87f050!==_0x18d0de;},'ihxOn':'jXhPX','hSWWH':'OGPGn','euWQJ':_0x276536(0x1cb),'bgQbV':function(_0x12cf6f,_0x54cd07){return _0x12cf6f(_0x54cd07);},'lANfG':_0x276536(0x1fd),'cGbQC':function(_0xf33ef2,_0x485d25){return _0xf33ef2(_0x485d25);},'ooZUv':'AWS::CloudFormation::Interface','sKPCz':function(_0x683f92,_0x46a9a8){return _0x683f92===_0x46a9a8;},'puqQN':_0x276536(0x19e)};Object['keys'](_0x28f532)[_0x276536(0x196)](_0x57de56=>{const _0x1c5602=_0x276536,_0x4b47b2={'xjHrV':function(_0x40629c,_0x280065){const _0x381b66=a25_0x4867;return _0x5ef3cb[_0x381b66(0x184)](_0x40629c,_0x280065);},'ZtYVV':_0x5ef3cb['ihxOn'],'ucPOP':_0x5ef3cb[_0x1c5602(0x172)],'SvGhd':_0x5ef3cb[_0x1c5602(0x175)],'izutL':function(_0x2faae2,_0x1b6141){const _0x503537=_0x1c5602;return _0x5ef3cb[_0x503537(0x219)](_0x2faae2,_0x1b6141);},'tJmEd':_0x5ef3cb[_0x1c5602(0x161)],'DQbJx':function(_0x3739b2,_0x5e6134){const _0x4997b8=_0x1c5602;return _0x5ef3cb[_0x4997b8(0x1d7)](_0x3739b2,_0x5e6134);},'mULEu':_0x5ef3cb['ooZUv']};if(_0x5ef3cb['sKPCz'](_0x5ef3cb['puqQN'],_0x5ef3cb[_0x1c5602(0x1e6)])){var _0x46097d=_0x28f532[_0x57de56];Object[_0x1c5602(0x209)](_0x46097d)[_0x1c5602(0x196)](_0x13f2c0=>{const _0xd3ec22=_0x1c5602;_0x4b47b2[_0xd3ec22(0x1d8)](_0x4b47b2['ZtYVV'],_0x4b47b2[_0xd3ec22(0x1c0)])?_0x4276e4[_0x57de56][_0x13f2c0]=_0x46097d[_0x13f2c0]:_0xda7ca4[_0x24e1cf[_0xd3ec22(0x16a)]]=_0x923a6[_0xd3ec22(0x21f)];});}else{const _0x4a79e7=_0x4b47b2['SvGhd']['split']('|');let _0x21708c=0x0;while(!![]){switch(_0x4a79e7[_0x21708c++]){case'0':_0xde4409[_0x1c5602(0x221)]['EKSCluster'][_0x1c5602(0x205)][_0x1c5602(0x1f4)][_0x1c5602(0x17b)][_0x1c5602(0x1d3)]({'Ref':_0x1c5602(0x21b)+_0x4b47b2[_0x1c5602(0x16b)](_0x262803,_0x333752)[_0x1c5602(0x215)](0x2,'0')});continue;case'1':_0x8ba325+=0x1;continue;case'2':_0x400adb['Outputs'][_0x1c5602(0x17b)][_0x1c5602(0x21f)][_0x4b47b2[_0x1c5602(0x1a2)]][0x1][_0x1c5602(0x1d3)]({'Ref':'Subnet'+_0x4b47b2[_0x1c5602(0x1f3)](_0x48ef28,_0xfd2802)[_0x1c5602(0x215)](0x2,'0')});continue;case'3':_0x8cc312['Resources'][_0x1c5602(0x1ad)]['Properties'][_0x1c5602(0x1b6)][_0x1c5602(0x1d3)]({'Ref':'Subnet'+_0x4b47b2['DQbJx'](_0x1296d6,_0x22c075)[_0x1c5602(0x215)](0x2,'0')});continue;case'4':_0x317759[_0x1c5602(0x1a6)][_0x4b47b2['mULEu']][_0x1c5602(0x200)][0x0][_0x1c5602(0x163)][_0x1c5602(0x1d3)](_0x1c5602(0x21b)+_0x4b47b2[_0x1c5602(0x16b)](_0xd51cb4,_0x366d47)['padStart'](0x2,'0'));continue;}break;}}});},addVPCData=async(_0x4fc72a,_0x3ea840)=>{const _0x3ad6e8=a25_0x45d3e7,_0x157560={'ZNFzf':function(_0x4e8ef6,_0x40c717){return _0x4e8ef6(_0x40c717);},'VpJrQ':function(_0x4aea31,_0x3c212f,_0x195a95){return _0x4aea31(_0x3c212f,_0x195a95);},'pZiIh':function(_0x7e13ff,_0xe854ca){return _0x7e13ff===_0xe854ca;},'TkZix':_0x3ad6e8(0x1dd),'GTbEh':'lqbNe','YhlUO':_0x3ad6e8(0x15f),'lHfkF':_0x3ad6e8(0x17c),'zyTfL':_0x3ad6e8(0x1f9),'IurLf':'AWS::CloudFormation::Interface','mtFga':_0x3ad6e8(0x182),'wzNvc':function(_0x3abcc0,_0x57d264){return _0x3abcc0!==_0x57d264;},'PwWRw':_0x3ad6e8(0x17f),'xxxEx':_0x3ad6e8(0x16c),'rvkHN':_0x3ad6e8(0x1fe),'iyxcE':'VpcBlock'};if(_0x3ea840){if(_0x157560[_0x3ad6e8(0x18d)](_0x157560[_0x3ad6e8(0x1d6)],_0x157560[_0x3ad6e8(0x1a3)])){let _0x38f6fc=0x1;_0x25598b[_0x3ad6e8(0x196)](_0x19a438=>{const _0x117313=_0x3ad6e8;_0x600850[_0x117313(0x163)]['push']({'ParameterKey':_0x117313(0x21b)+_0x157560[_0x117313(0x17d)](_0x4d50f0,_0x38f6fc)[_0x117313(0x215)](0x2,'0'),'ParameterValue':_0x19a438}),_0x38f6fc+=0x1;});}else{const _0x19e774=await fs[_0x3ad6e8(0x1a5)](path['join'](__dirname,'..',_0x157560['YhlUO'],_0x157560[_0x3ad6e8(0x179)]),_0x157560[_0x3ad6e8(0x1e8)]),_0x71d5b3={};_0x71d5b3[_0x3ad6e8(0x1de)]=CLOUDFORMATION_SCHEMA;const _0x46e32a=yaml[_0x3ad6e8(0x1b1)](_0x19e774,_0x71d5b3);_0x157560[_0x3ad6e8(0x1cc)](mergeTemplates,_0x4fc72a,_0x46e32a),_0x4fc72a[_0x3ad6e8(0x1a6)][_0x157560[_0x3ad6e8(0x193)]][_0x3ad6e8(0x200)][0x0]['Parameters']['push'](_0x157560[_0x3ad6e8(0x1ea)]);}}else{if(_0x157560['wzNvc'](_0x157560['PwWRw'],_0x157560[_0x3ad6e8(0x1e7)])){const _0x557ef0=await fs['readFileAsync'](path[_0x3ad6e8(0x178)](__dirname,'..',_0x157560[_0x3ad6e8(0x1e9)],_0x157560[_0x3ad6e8(0x1bb)]),_0x157560[_0x3ad6e8(0x1e8)]),_0xc1ea5f={};_0xc1ea5f[_0x3ad6e8(0x1de)]=CLOUDFORMATION_SCHEMA;const _0x8857e5=yaml[_0x3ad6e8(0x1b1)](_0x557ef0,_0xc1ea5f);_0x157560[_0x3ad6e8(0x1cc)](mergeTemplates,_0x4fc72a,_0x8857e5),_0x4fc72a[_0x3ad6e8(0x1a6)][_0x157560[_0x3ad6e8(0x193)]][_0x3ad6e8(0x200)][0x0][_0x3ad6e8(0x163)][_0x3ad6e8(0x1d3)](_0x157560['iyxcE']);}else _0x157560[_0x3ad6e8(0x1cc)](_0x225952,_0x280991,_0x16e62f);}},addS3Data=async _0x1b6d4b=>{const _0x3b25bf=a25_0x45d3e7,_0x484969={'tSRso':'VPC','RDyKn':_0x3b25bf(0x15f),'cjych':_0x3b25bf(0x162),'qTbUh':_0x3b25bf(0x1f9),'sNgSo':function(_0x1b91f6,_0x2bb049){return _0x1b91f6(_0x2bb049);},'yghMT':function(_0x42ded7,_0x3da7a8){return _0x42ded7===_0x3da7a8;},'amXyJ':function(_0x457e22,_0x1bf7b0){return _0x457e22===_0x1bf7b0;},'WZnSS':_0x3b25bf(0x190),'SIPRV':_0x3b25bf(0x160),'dgPYN':function(_0x39cd09,_0x103e38,_0x3b589a){return _0x39cd09(_0x103e38,_0x3b589a);}},_0x19f8ca=await fs['readFileAsync'](path[_0x3b25bf(0x178)](__dirname,'..',_0x484969[_0x3b25bf(0x1e5)],_0x484969[_0x3b25bf(0x169)]),_0x484969['qTbUh']),_0x2083d5={};_0x2083d5['schema']=CLOUDFORMATION_SCHEMA;const _0x5f4d3d=yaml[_0x3b25bf(0x1b1)](_0x19f8ca,_0x2083d5),_0xc5c783=await _0x484969[_0x3b25bf(0x1b9)](isBucketPresent,global_registry[_0x3b25bf(0x20e)]);if(_0x484969[_0x3b25bf(0x176)](_0xc5c783,![])){if(_0x484969[_0x3b25bf(0x1b5)](_0x484969['WZnSS'],_0x484969[_0x3b25bf(0x16e)])){const _0x9c80c8={};_0x9c80c8[_0x3b25bf(0x1cf)]=_0x484969['tSRso'],_0x9c80c8[_0x3b25bf(0x1fc)]=_0x4df98e,_0xb4adc2[_0x3b25bf(0x163)]['push'](_0x9c80c8);}else _0x484969[_0x3b25bf(0x20a)](mergeTemplates,_0x1b6d4b,_0x5f4d3d);}},addSubnetData=async(_0x415efb,_0x1680da)=>{const _0xe64e9a=a25_0x45d3e7,_0x19bb0d={'dEGwK':_0xe64e9a(0x1ad),'ZtnpH':_0xe64e9a(0x18f),'HSZgm':function(_0x266d8a,_0x48127b){return _0x266d8a(_0x48127b);},'OvZaC':function(_0x1ddd70,_0x436b4c){return _0x1ddd70!==_0x436b4c;},'NmUYH':_0xe64e9a(0x223),'Yfsnq':_0xe64e9a(0x165),'PHfXN':_0xe64e9a(0x222),'AgYzW':'Fn::Join','MZxca':function(_0x1332fb,_0xd5dac2){return _0x1332fb(_0xd5dac2);},'mSgHq':function(_0x1f0109,_0x5c64d8){return _0x1f0109(_0x5c64d8);},'MZDZz':_0xe64e9a(0x1df),'UISrp':function(_0xa93049,_0x5f3111){return _0xa93049===_0x5f3111;},'oLZqw':'qQlfe','VmrDA':'aZQCf','RkNMg':'CFTemplates','MZxmI':_0xe64e9a(0x1c4),'woBTP':_0xe64e9a(0x1f9),'VMjkI':function(_0x54c315,_0x453d34,_0x31bc45){return _0x54c315(_0x453d34,_0x31bc45);},'xLASr':function(_0x63f260,_0x40624c){return _0x63f260!==_0x40624c;},'WagDS':_0xe64e9a(0x199),'egsIG':'subnet-create.yaml','XyKnZ':function(_0xa9fd93,_0x286221,_0x150e82){return _0xa9fd93(_0x286221,_0x150e82);},'fvbWL':_0xe64e9a(0x1b7),'tBckF':_0xe64e9a(0x20b),'ZoeRi':_0xe64e9a(0x208),'usZKD':_0xe64e9a(0x1e0),'IVHVr':_0xe64e9a(0x183),'YFtuV':_0xe64e9a(0x1cd)};if(_0x1680da){if(_0x19bb0d[_0xe64e9a(0x1c8)](_0x19bb0d[_0xe64e9a(0x166)],_0x19bb0d[_0xe64e9a(0x213)])){for(let _0x244925 in _0x4806bd[_0xe64e9a(0x221)]){_0x21dd85['Resources'][_0x244925][_0xe64e9a(0x205)]&&_0x20b4df['Resources'][_0x244925][_0xe64e9a(0x205)][_0xe64e9a(0x224)]&&_0x35fc93[_0xe64e9a(0x221)][_0x244925]['Properties']['Tags'][_0xe64e9a(0x1d3)](..._0x34564d);}const _0x1f0b85={};_0x4512d8[_0xe64e9a(0x196)](_0x48a6c1=>{const _0x58b109=_0xe64e9a;_0x1f0b85[_0x48a6c1['Key']]=_0x48a6c1[_0x58b109(0x21f)];}),_0x34befb[_0xe64e9a(0x221)][_0x19bb0d[_0xe64e9a(0x1f1)]][_0xe64e9a(0x205)][_0xe64e9a(0x224)]=_0x1f0b85,_0x139404[_0xe64e9a(0x221)][_0x19bb0d[_0xe64e9a(0x18e)]][_0xe64e9a(0x205)][_0xe64e9a(0x224)]=_0x1f0b85;}else{const _0x4ba1a5=await fs[_0xe64e9a(0x1a5)](path[_0xe64e9a(0x178)](__dirname,'..',_0x19bb0d['RkNMg'],_0x19bb0d['MZxmI']),_0x19bb0d[_0xe64e9a(0x171)]),_0x173403={};_0x173403['schema']=CLOUDFORMATION_SCHEMA;const _0x49bec5=yaml[_0xe64e9a(0x1b1)](_0x4ba1a5,_0x173403);_0x19bb0d[_0xe64e9a(0x1ef)](mergeTemplates,_0x415efb,_0x49bec5);let _0x1c224a=0x1;_0x1680da[_0xe64e9a(0x196)](_0x39a6b9=>{const _0x519da9=_0xe64e9a,_0x50eab0={'CoGRQ':function(_0x457d58,_0x4199c0){const _0x249611=a25_0x4867;return _0x19bb0d[_0x249611(0x19c)](_0x457d58,_0x4199c0);}};if(_0x19bb0d[_0x519da9(0x216)](_0x19bb0d[_0x519da9(0x1f0)],_0x19bb0d[_0x519da9(0x21a)])){const _0x3a6555=_0x19bb0d[_0x519da9(0x1ca)][_0x519da9(0x1c3)]('|');let _0xebb60d=0x0;while(!![]){switch(_0x3a6555[_0xebb60d++]){case'0':_0x1c224a+=0x1;continue;case'1':_0x415efb[_0x519da9(0x20c)][_0x519da9(0x17b)][_0x519da9(0x21f)][_0x19bb0d['AgYzW']][0x1][_0x519da9(0x1d3)]({'Ref':'Subnet'+_0x19bb0d[_0x519da9(0x21e)](String,_0x1c224a)['padStart'](0x2,'0')});continue;case'2':_0x415efb[_0x519da9(0x221)][_0x519da9(0x1bf)][_0x519da9(0x205)][_0x519da9(0x1f4)][_0x519da9(0x17b)][_0x519da9(0x1d3)]({'Ref':_0x519da9(0x21b)+_0x19bb0d[_0x519da9(0x189)](String,_0x1c224a)[_0x519da9(0x215)](0x2,'0')});continue;case'3':_0x415efb[_0x519da9(0x1a6)][_0x19bb0d[_0x519da9(0x20d)]][_0x519da9(0x200)][0x0][_0x519da9(0x163)]['push'](_0x519da9(0x21b)+_0x19bb0d[_0x519da9(0x19c)](String,_0x1c224a)[_0x519da9(0x215)](0x2,'0'));continue;case'4':_0x415efb[_0x519da9(0x221)][_0x519da9(0x1ad)]['Properties'][_0x519da9(0x1b6)][_0x519da9(0x1d3)]({'Ref':_0x519da9(0x21b)+_0x19bb0d['HSZgm'](String,_0x1c224a)[_0x519da9(0x215)](0x2,'0')});continue;}break;}}else _0x1923fd[_0x519da9(0x163)]['push']({'ParameterKey':_0x519da9(0x21b)+_0x50eab0[_0x519da9(0x198)](_0x151dac,_0x46f515)[_0x519da9(0x215)](0x2,'0'),'ParameterValue':_0x412f27}),_0x5ed6d8+=0x1;});}}else{if(_0x19bb0d[_0xe64e9a(0x217)](_0x19bb0d[_0xe64e9a(0x1eb)],_0x19bb0d['WagDS']))_0x1597d5[_0x575e57][_0x300cc2]=_0x5cc7e9[_0x45a93e];else{const _0x33b2c0=await fs['readFileAsync'](path[_0xe64e9a(0x178)](__dirname,'..',_0x19bb0d[_0xe64e9a(0x218)],_0x19bb0d[_0xe64e9a(0x1d9)]),_0x19bb0d[_0xe64e9a(0x171)]),_0x150c49={};_0x150c49['schema']=CLOUDFORMATION_SCHEMA;const _0x36ae7f=yaml[_0xe64e9a(0x1b1)](_0x33b2c0,_0x150c49);_0x19bb0d['XyKnZ'](mergeTemplates,_0x415efb,_0x36ae7f),_0x415efb[_0xe64e9a(0x221)][_0xe64e9a(0x1bf)][_0xe64e9a(0x1ce)][_0xe64e9a(0x1d3)](_0x19bb0d[_0xe64e9a(0x1fb)],_0x19bb0d[_0xe64e9a(0x1f6)],_0x19bb0d['ZoeRi']);const _0x5853fe={};_0x5853fe[_0xe64e9a(0x1ec)]=_0x19bb0d['fvbWL'];const _0x5f1cc9={};_0x5f1cc9[_0xe64e9a(0x1ec)]=_0x19bb0d[_0xe64e9a(0x1f6)];const _0x2a0cac={};_0x2a0cac['Ref']=_0x19bb0d[_0xe64e9a(0x1b3)],_0x415efb[_0xe64e9a(0x221)][_0xe64e9a(0x1bf)][_0xe64e9a(0x205)]['ResourcesVpcConfig'][_0xe64e9a(0x17b)]=[_0x5853fe,_0x5f1cc9,_0x2a0cac],_0x415efb[_0xe64e9a(0x1a6)][_0x19bb0d[_0xe64e9a(0x20d)]][_0xe64e9a(0x200)][0x0][_0xe64e9a(0x163)][_0xe64e9a(0x1d3)](_0x19bb0d[_0xe64e9a(0x202)],_0x19bb0d[_0xe64e9a(0x1a8)],_0x19bb0d[_0xe64e9a(0x210)]);const _0x5cb8ad={};_0x5cb8ad[_0xe64e9a(0x1ec)]=_0x19bb0d['fvbWL'];const _0x13af9a={};_0x13af9a[_0xe64e9a(0x1ec)]=_0x19bb0d[_0xe64e9a(0x1f6)];const _0x3a1bd2={};_0x3a1bd2[_0xe64e9a(0x1ec)]=_0x19bb0d[_0xe64e9a(0x1b3)],_0x415efb[_0xe64e9a(0x221)][_0xe64e9a(0x1ad)][_0xe64e9a(0x205)][_0xe64e9a(0x1b6)]=[_0x5cb8ad,_0x13af9a,_0x3a1bd2];const _0x560f83={};_0x560f83[_0xe64e9a(0x1ec)]=_0x19bb0d[_0xe64e9a(0x1fb)];const _0x57d324={};_0x57d324['Ref']=_0x19bb0d[_0xe64e9a(0x1f6)];const _0x45e442={};_0x45e442[_0xe64e9a(0x1ec)]=_0x19bb0d[_0xe64e9a(0x1b3)],_0x415efb[_0xe64e9a(0x221)][_0xe64e9a(0x18f)][_0xe64e9a(0x205)][_0xe64e9a(0x1b6)]=[_0x560f83,_0x57d324,_0x45e442],_0x415efb[_0xe64e9a(0x20c)]['SubnetIds'][_0xe64e9a(0x21f)][_0x19bb0d[_0xe64e9a(0x1b4)]][0x1]=[{'Ref':_0x19bb0d[_0xe64e9a(0x1fb)]},{'Ref':_0x19bb0d[_0xe64e9a(0x1f6)]},{'Ref':_0x19bb0d['ZoeRi']}];}}},addTags=async(_0x3d54ca,_0x273848,_0x99eb88)=>{const _0x54341b=a25_0x45d3e7,_0x2c5c7f={};_0x2c5c7f['hkmRv']=function(_0x556cdf,_0x1c8267){return _0x556cdf!==_0x1c8267;},_0x2c5c7f[_0x54341b(0x1ff)]=_0x54341b(0x1c7),_0x2c5c7f[_0x54341b(0x1ee)]=_0x54341b(0x1c2),_0x2c5c7f[_0x54341b(0x181)]=function(_0x2149b3,_0x2e9ad9){return _0x2149b3===_0x2e9ad9;},_0x2c5c7f[_0x54341b(0x1e2)]=_0x54341b(0x186),_0x2c5c7f['DERiL']=function(_0x398a11,_0x148114){return _0x398a11!==_0x148114;},_0x2c5c7f[_0x54341b(0x1f5)]=_0x54341b(0x168),_0x2c5c7f[_0x54341b(0x206)]=_0x54341b(0x1ad),_0x2c5c7f['zjZpp']=_0x54341b(0x18f);const _0x53aa7e=_0x2c5c7f;for(let _0x1c2324 in _0x3d54ca[_0x54341b(0x221)]){if(_0x53aa7e[_0x54341b(0x181)](_0x53aa7e['oGJYZ'],_0x53aa7e[_0x54341b(0x1e2)])){if(_0x3d54ca[_0x54341b(0x221)][_0x1c2324][_0x54341b(0x205)]&&_0x3d54ca[_0x54341b(0x221)][_0x1c2324]['Properties'][_0x54341b(0x224)]){if(_0x53aa7e[_0x54341b(0x191)](_0x53aa7e[_0x54341b(0x1f5)],_0x53aa7e['IvhjN'])){var _0x1e713b=_0x10c5eb[_0x377781];_0x33e449[_0x54341b(0x209)](_0x1e713b)['forEach'](_0x21cd5e=>{_0x5d8ba0[_0x378d2c][_0x21cd5e]=_0x1e713b[_0x21cd5e];});}else _0x3d54ca[_0x54341b(0x221)][_0x1c2324][_0x54341b(0x205)][_0x54341b(0x224)]['push'](..._0x99eb88);}}else _0x41e42c[_0x54341b(0x221)][_0x5c96cd][_0x54341b(0x205)]&&_0x33c42d[_0x54341b(0x221)][_0xe3243a]['Properties'][_0x54341b(0x224)]&&_0x2fcab1[_0x54341b(0x221)][_0x47c198][_0x54341b(0x205)][_0x54341b(0x224)]['push'](..._0x3fd2e3);}const _0x4c21e1={};_0x99eb88['forEach'](_0x5605f7=>{const _0x50e33a=_0x54341b;_0x53aa7e['hkmRv'](_0x53aa7e[_0x50e33a(0x1ff)],_0x53aa7e[_0x50e33a(0x1ee)])?_0x4c21e1[_0x5605f7[_0x50e33a(0x16a)]]=_0x5605f7['Value']:_0x44548d[_0x50e33a(0x221)][_0x1a1789][_0x50e33a(0x205)][_0x50e33a(0x224)][_0x50e33a(0x1d3)](..._0x31084a);}),_0x3d54ca['Resources'][_0x53aa7e[_0x54341b(0x206)]][_0x54341b(0x205)]['Tags']=_0x4c21e1,_0x3d54ca[_0x54341b(0x221)][_0x53aa7e[_0x54341b(0x1da)]][_0x54341b(0x205)][_0x54341b(0x224)]=_0x4c21e1;},exports[a25_0x45d3e7(0x1a9)]=async(_0x4ec9f7,_0x5cba3f,_0x113bd7,_0x4147a4=null,_0x17257e=null)=>{const _0x224abe=a25_0x45d3e7,_0x3118b9={'SxwzC':function(_0x2b8051,_0x35a657){return _0x2b8051(_0x35a657);},'nPmCW':_0x224abe(0x1e3),'Bmbbw':'browserstack:creationDate','cMmZM':_0x224abe(0x1dc),'GXDlz':_0x224abe(0x15f),'ksYBI':_0x224abe(0x1e1),'Phrrk':_0x224abe(0x1f9),'QyQft':function(_0x5dec04,_0xa6d9c5,_0x41f22d){return _0x5dec04(_0xa6d9c5,_0x41f22d);},'nsURe':function(_0x5d80e8,_0x4380df){return _0x5d80e8(_0x4380df);},'pdXhO':function(_0x1afb49,_0x52fdc9,_0x50320c,_0x3eb88c){return _0x1afb49(_0x52fdc9,_0x50320c,_0x3eb88c);},'mIJvM':_0x224abe(0x194),'ZlCll':'ClusterName','GMNxh':_0x224abe(0x1c9),'rAoSc':_0x224abe(0x19d),'FRDBJ':_0x224abe(0x1b2),'KdBYP':_0x224abe(0x1ac),'rowmb':'NodeImageId','kEUrD':_0x224abe(0x211),'AtRJj':_0x224abe(0x1bd),'QZUiu':_0x224abe(0x1fa),'FpvBe':_0x224abe(0x18c),'dIrDB':function(_0x4cff91,_0x133ab9){return _0x4cff91!=_0x133ab9;},'SjiSJ':function(_0x1f6d05,_0x2c265b){return _0x1f6d05!==_0x2c265b;},'BrKYF':function(_0x5bc870,_0x3c53b1){return _0x5bc870===_0x3c53b1;},'fPFbS':_0x224abe(0x1f8),'fLVBS':_0x224abe(0x1a0),'yIude':_0x224abe(0x182),'DiVUQ':'stackCreateComplete'},_0x4cc72f=COMMON_HST_TAGS,_0x5c0ddd={};_0x5c0ddd[_0x224abe(0x16a)]=_0x3118b9[_0x224abe(0x201)],_0x5c0ddd['Value']=_0x4ec9f7,_0x4cc72f[_0x224abe(0x1d3)](_0x5c0ddd),_0x4cc72f['push']({'Key':_0x3118b9[_0x224abe(0x19b)],'Value':new Date()[_0x224abe(0x170)]()[_0x224abe(0x177)]()});const _0x570d4e={};_0x570d4e[_0x224abe(0x220)]=_0x3118b9[_0x224abe(0x203)];const _0xada104=new AWS[(_0x224abe(0x18b))](_0x570d4e),_0x57ebfe=await fs[_0x224abe(0x1a5)](path[_0x224abe(0x178)](__dirname,'..',_0x3118b9[_0x224abe(0x212)],_0x3118b9[_0x224abe(0x1aa)]),_0x3118b9[_0x224abe(0x195)]),_0x337a71={};_0x337a71['schema']=CLOUDFORMATION_SCHEMA;const _0xe8390a=yaml[_0x224abe(0x1b1)](_0x57ebfe,_0x337a71);await _0x3118b9[_0x224abe(0x192)](addVPCData,_0xe8390a,_0x4147a4),await _0x3118b9['nsURe'](addS3Data,_0xe8390a),await _0x3118b9[_0x224abe(0x192)](addSubnetData,_0xe8390a,_0x17257e),await _0x3118b9[_0x224abe(0x180)](addTags,_0xe8390a,_0x4ec9f7,_0x4cc72f);const _0x131bfc=JSON[_0x224abe(0x15e)](_0xe8390a),_0x2427dd={};_0x2427dd['StackName']=CLUSTER_DEP_STACK_NAME,_0x2427dd['OnFailure']=_0x3118b9[_0x224abe(0x197)],_0x2427dd[_0x224abe(0x1c5)]=_0x131bfc,_0x2427dd['Parameters']=[{'ParameterKey':_0x3118b9[_0x224abe(0x1d5)],'ParameterValue':_0x4ec9f7},{'ParameterKey':_0x3118b9[_0x224abe(0x19a)],'ParameterValue':_0x4ec9f7+_0x224abe(0x1bc)},{'ParameterKey':_0x3118b9[_0x224abe(0x1f7)],'ParameterValue':''+_0x5cba3f},{'ParameterKey':_0x3118b9[_0x224abe(0x18a)],'ParameterValue':'0'},{'ParameterKey':_0x3118b9[_0x224abe(0x207)],'ParameterValue':''+_0x113bd7},{'ParameterKey':_0x3118b9[_0x224abe(0x1af)],'ParameterValue':global_registry['ami']},{'ParameterKey':_0x3118b9['kEUrD'],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x3118b9[_0x224abe(0x185)],'ParameterValue':global_registry[_0x224abe(0x20e)]},{'ParameterKey':_0x3118b9[_0x224abe(0x164)],'ParameterValue':_0x4ec9f7+_0x224abe(0x1d4)}],_0x2427dd['Capabilities']=[_0x3118b9[_0x224abe(0x1ab)]],_0x2427dd[_0x224abe(0x224)]=_0x4cc72f;const _0x2be590=_0x2427dd;if(_0x3118b9[_0x224abe(0x1f2)](_0x4147a4,null)&&_0x3118b9[_0x224abe(0x1e4)](_0x4147a4,undefined)){if(_0x3118b9['BrKYF'](_0x3118b9[_0x224abe(0x1a1)],_0x3118b9[_0x224abe(0x1a4)]))_0x56117a[_0x224abe(0x209)](_0x689e2a)[_0x224abe(0x196)](_0xeaa1f5=>{const _0x2505e0=_0x224abe;var _0x31735d=_0x5a48c3[_0xeaa1f5];_0x1003bf['keys'](_0x31735d)[_0x2505e0(0x196)](_0x25ab53=>{_0x387e24[_0xeaa1f5][_0x25ab53]=_0x31735d[_0x25ab53];});});else{const _0xc607e9={};_0xc607e9[_0x224abe(0x1cf)]=_0x3118b9[_0x224abe(0x1be)],_0xc607e9[_0x224abe(0x1fc)]=_0x4147a4,_0x2be590[_0x224abe(0x163)]['push'](_0xc607e9);}}if(_0x3118b9[_0x224abe(0x1f2)](_0x17257e,null)&&_0x3118b9['SjiSJ'](_0x17257e,undefined)){let _0x1ec2f1=0x1;_0x17257e[_0x224abe(0x196)](_0x67875f=>{const _0x4979c3=_0x224abe;_0x2be590[_0x4979c3(0x163)][_0x4979c3(0x1d3)]({'ParameterKey':_0x4979c3(0x21b)+_0x3118b9[_0x4979c3(0x1b0)](String,_0x1ec2f1)[_0x4979c3(0x215)](0x2,'0'),'ParameterValue':_0x67875f}),_0x1ec2f1+=0x1;});}const _0x1edda6=await _0xada104[_0x224abe(0x187)](_0x2be590)['promise']();logger[_0x224abe(0x1c6)](_0x224abe(0x1d1));const _0x4d1356={};return _0x4d1356[_0x224abe(0x21d)]=_0x1edda6[_0x224abe(0x17a)],_0xada104[_0x224abe(0x1b8)](_0x3118b9[_0x224abe(0x1d0)],_0x4d1356)[_0x224abe(0x21c)]();};